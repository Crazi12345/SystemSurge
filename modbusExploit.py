from pymodbus.client import ModbusTcpClient


# Replace 'robot_ip_address' with the actual IP address of your robot
class ModBusExploit:
    robot_ip_address = '192.168.1.221'  # Example IP address
    port = 502

# Create a Modbus TCP client instance
    client = ModbusTcpClient(robot_ip_address, port)

# Connect to the Modbus server
    connection = client.connect()

    if connection:
        print("Connected to the robot's Modbus server successfully.")

    # Perform Modbus operations (example: read holding registers)
        address = 768  # Starting address
        count = 10   # Number of registers to read
        result = client.read_holding_registers(address, count)

        if not result.isError():
            print(f"Holding Registers: {result.registers}")
        else:
            print("Failed to read holding registers.")

    # Close the connection
        client.close()
    else:
        print("Failed to connect to the robot's Modbus server.")
